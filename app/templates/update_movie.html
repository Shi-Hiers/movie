{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">Update Movie</h1>

    <!-- Update Movie Form -->
    <form method="POST" action="{{ url_for('movies.update_movie', movie_id=movie['movie_id']) }}">
        <div class="form-group">
            <label for="movie_title">Movie Title</label>
            <input type="text" class="form-control" id="movie_title" name="movie_title" value="{{ movie['movie_title'] }}" required>
        </div>
        <div class="form-group">
            <label for="release_year">Release Year</label>
            <input type="number" class="form-control" id="release_year" name="release_year" value="{{ movie['release_year'] }}" required>
        </div>
        <div class="form-group">
            <label for="genres">Genres</label>
            <select class="form-control" id="genres" name="genre_ids" multiple required>
                {% for genre in all_genres %}
                    <option value="{{ genre['genre_id'] }}"
                        {% if genre['genre_id'] in movie_genres %} selected {% endif %}>
                        {{ genre['genre_name'] }}
                    </option>
                {% endfor %}
            </select>
            <small class="form-text text-muted">Hold down the Ctrl (Windows) or Command (Mac) key to select multiple genres.</small>
        </div>
        <button type="submit" class="btn btn-primary">Update Movie</button>
        <a href="{{ url_for('movies.movie') }}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}
